(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d230a43"],{ecc2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{attrs:{title:"포스트 수정하기",visible:t.opened,width:"700px"},on:{"update:visible":function(e){t.opened=e}}},[t.opened&&t.postData?a("el-form",{ref:"frm",attrs:{model:t.postData,"label-width":"100px"},nativeOn:{submit:function(e){return e.preventDefault(),t.save(e)}}},[a("el-form-item",{attrs:{label:"제목",size:"small",prop:"title",required:""}},[a("el-input",{model:{value:t.postData.title,callback:function(e){t.$set(t.postData,"title",e)},expression:"postData.title"}})],1),a("el-form-item",{attrs:{label:"간단한 설명",size:"small",prop:"description",required:""}},[a("el-input",{attrs:{type:"textarea",rows:"5",cols:"80"},model:{value:t.postData.description,callback:function(e){t.$set(t.postData,"description",e)},expression:"postData.description"}})],1),a("el-form-item",{attrs:{label:"포스트 경로",size:"small",prop:"route",required:""}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:22}},[a("el-input",{attrs:{disabled:""},model:{value:t.postData.route,callback:function(e){t.$set(t.postData,"route",e)},expression:"postData.route"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"default",icon:"el-icon-edit-outline",plain:""},on:{click:function(e){return t.$emit("open-link-editor")}}})],1)],1),t._v(" * 저장소에서 해당 파일의 위치가 변경되었을 경우 업데이트 해주세요 ")],1),a("el-form-item",{attrs:{label:"썸네일",size:"small",prop:"thumbnail"}},[a("label",{staticClass:"fileUploadLabel"},[a("input",{ref:"thumbnailInput",attrs:{id:"thumbnail",type:"file",accept:"image/*"},on:{change:t.thumbnailUpload}}),a("span",[t._v("썸네일 이미지 업로드")])]),t.postData.thumbnail?a("div",{staticClass:"thumbnail"},[a("div",{staticClass:"thumbnailWrap"},[a("img",{attrs:{src:t.uploadedThumbnail,alt:"썸네일 이미지"}}),a("div",{staticClass:"thumbnailEdit"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small",circle:""},on:{click:t.thumbnailEdit}}),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small",circle:""},on:{click:t.thumbnailDelete}})],1)])]):t._e()]),a("el-form-item",[a("el-button",{attrs:{"native-type":"submit",type:"primary",size:"small"}},[t._v("저장")])],1)],1):t._e()],1)},n=[],l=(a("c1c3"),a("7a28")),s=a("862b"),o=a("c812"),r=a("0879"),u=a("c95d"),p=a("6dbe"),c=a("95ad"),d=a("f392"),b=new FileReader,m=Object(d["a"])("post"),h=function(t){Object(r["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(s["a"])(this,a),t=e.apply(this,arguments),t.postData=null,t.opened=!1,t.uploadedThumbnail="",t}return Object(o["a"])(a,[{key:"open",value:function(t){this.opened=!0,this.postData=t,t.thumbnail&&(this.uploadedThumbnail="/uploaded/".concat(t.sha))}},{key:"close",value:function(){this.opened=!1}},{key:"save",value:function(){var t=this,e=this.$refs.frm;e.validate(function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.UPDATE_POST([t.postData,t.uploadedThumbnail]);case 4:t.$message({type:"success",message:"수정 되었습니다."}),t.opened=!1;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},{key:"thumbnailUpload",value:function(t){var e=t.target.files;e.length&&b.readAsDataURL(e[0])}},{key:"thumbnailEdit",value:function(){var t=this.$refs.thumbnailInput;t.click()}},{key:"thumbnailDelete",value:function(){var t=this.$refs.thumbnailInput;t.value="",this.postData.thumbnail=!1}},{key:"updateRoute",value:function(t){var e=t.content,a=t.repository,i=t.route;this.postData.content=e,this.postData.repository=a,this.postData.route=i}},{key:"created",value:function(){var t=this;b.onloadend=function(e){t.postData.thumbnail=!0,t.uploadedThumbnail=e.target.result}}}]),a}(c["d"]);Object(p["a"])([m.Action],h.prototype,"UPDATE_POST",void 0),Object(p["a"])([Object(c["b"])()],h.prototype,"updateRoute",null),h=Object(p["a"])([c["a"]],h);var f=h,v=f,y=a("a6c2"),D=Object(y["a"])(v,i,n,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-2d230a43.18044bdc.js.map